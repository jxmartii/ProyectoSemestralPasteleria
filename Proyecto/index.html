<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pastelería Mil Sabores - Home</title>
    <link rel="stylesheet" href="css/estilo.css">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Pacifico&display=swap"
        rel="stylesheet">
</head>

<body>
  <header>
    <div class="top-bar">
      <div>
        <img src="img/Logo.png" alt="logo" width="40">
        <span>Pastelería Mil Sabores</span>
      </div>
      <nav>
        <a href="index.html" class="activo">Home</a>
        <a href="productos.html">Productos</a>
        <a href="nosotros.html">Nosotros</a>
        <a href="blogs.html">Blogs</a>
        <a href="contacto.html">Contacto</a>
      </nav>
      <div class="acciones">
        <a href="login.html">Iniciar sesión</a> |
        <a href="registro.html">Registrar usuario</a> |
        <a href="carrito.html" class="carrito">Carrito 0</a>
      </div>
    </div>
  </header>

  <main>
    <section>
      <h2>Bienvenidos a la Pastelería Mil Sabores</h2>
      <p>En nuestra tienda encontrarás tortas, postres y productos tradicionales de repostería de alta calidad
          para todas las ocasiones y hechos con amor. Disfruta de la experiencia más dulce desde la comodidad de
          tu hogar.</p>
    </section>

    <section>
      <h2>Recomendaciones para ti</h2>
      <div class="recomendaciones catalogo"></div>
    </section>
  </main>

  <footer>
    <p>Pastelería Mil Sabores • Creado por Johann Carrasco y Martina Ortiz</p>
  </footer>

  <script src="js/script.js"></script>
  <script>
    function getRandomProducts(array, cantidad = 8) {
      const copia = [...array];
      const seleccion = [];
      for (let i = 0; i < cantidad && copia.length; i++) {
        const idx = Math.floor(Math.random() * copia.length);
        seleccion.push(copia[idx]);
        copia.splice(idx, 1);
      }
      return seleccion;
    }

    function renderRecomendaciones() {
      const contenedor = document.querySelector('.recomendaciones');
      if (!contenedor) return;
      contenedor.innerHTML = '';
      const productos = getRandomProducts(PRODUCTOS, 8);
      productos.forEach(p => {
        const div = document.createElement('div');
        div.className = 'producto-item card';
        div.innerHTML = `
          <img src="${p.imagen}" alt="${p.nombre}" loading="lazy">
          <p>${p.nombre}</p>
          <p>${formatCLP(p.precio)}</p>
          <div class="prod-buttons">
            <button class="btn-agregar" data-id="${p.id}">Agregar al carrito</button>
            <button class="btn-ver-detalle" data-id="${p.id}">Ver Detalle</button>
          </div>
        `;
        contenedor.appendChild(div);
      });
    }

    document.addEventListener('DOMContentLoaded', () => {
      renderRecomendaciones();
    });
  </script>
</body>

</html>
